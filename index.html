<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>NeutroModeler</title>
   <script type="text/javascript" src="elm.js"></script>
   <link rel="stylesheet" href="style.css">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>
<body>
   <div id="elm-app"></div>
</body>
<script type="text/javascript">
   // Start the Elm application.
   var app = Elm.Main.init({
      node: document.getElementById('elm-app')
   });

   // Create your WebSocket.
   var socket = new WebSocket('wss://echo.websocket.org');

   // When a command goes to the `sendMessage` port, we pass the message
   // along to the WebSocket.
   app.ports.sendModel.subscribe(function(message) {
      socket.send(message);
      console.log(message);
   });


   // When a message comes into our WebSocket, we pass the message along
   // to the `messageReceiver` port.
   socket.addEventListener("message", function(event) {
      app.ports.messageReceiver.send(event.data);
   });

   // Set local storage example
   // var storedState = localStorage.getItem('elm-app');
   // var startingState = storedState ? JSON.parse(storedState) : null;
   // var app = Elm.Main.init({ flags: startingState });
   // app.ports.setStorage.subscribe(function(state) {
   //    localStorage.setItem('elm-app', JSON.stringify(state));
   // });
</script>
</html>